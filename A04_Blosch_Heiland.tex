\documentclass{article}

\input{usepackage.tex}

\begin{document}
	%%% Vorgegebenes Deckblatt %%%
	\includepdf{deckblatt.pdf}
	
	%%% format and header %%%
	\input{formatAndHeader.tex}
	
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	%%%%%%% actual content %%%%%%%
	%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
	
	\section*{Aufgabe 4.1}
		% relationale Algebra: Datum aller Darlehen über >5.000€
		\paragraph*{a.}
			TODO
			
		% rel. Algebra: IDs aller Konten die ein Darl. über >20.000€ haben und KOntaktperson in Berlin
		\paragraph*{b.}
			TODO
			
		% SQL-query: Name,Alter,Anzahl Kredite,PLZ aller Kunden absteigend nach Alter sortiert
		\paragraph*{c.}
			TODO
			
		% Geben Sie eine Anfrage in SQL-Notation an, die für jeden Mitarbeiter den Namen und die Anzahl der Bankkonten, bei denen er als Kontaktperson fungiert und deren Guthaben niedriger als 5000 ist, ausgibt. Es sollen nur Mitarbeiter ausgegeben werden, die insgesamt bei weniger als 50 Bankkonten Kontaktpersonen sind.
		\paragraph*{d.}
			TODO
		
		% SQL-query: Name,Alter aller Kunden, die mind. 1 Darl. haben, dessen Höhe > Durchschnittskredithöhe ist (ohne Duplikate -> DISTINCT)
		\paragraph*{e.}
			TODO
		
		% SQL: immer wenn in einer Adresse "Stuttgart" vorkommt, soll der Ort in "Stuttgart" geändert werden. z.B.: Stuttgart-Vaihingen -> Stuttgart, PenisStuttgart -> Stuttgart
		\paragraph*{f.}
			TODO
	
		\pagebreak
	
	\section*{Aufgabe 4.2}
		% Gegeben ist die Datenbank aus Aufgabe 1, Einträge: s. Blatt. Zusätzlich wird folgender Trigger erstellt:
		% CREATE TRIGGER T1
			% AFTER INSERT ON darlehen
			% REFERENCING NEW ROW AS r
			% FOR EACH ROW
			% UPDATE bankkonto
			% SET b_guthaben=b_guthaben + r.d_kredithoehe
			% WHERE b_inhaber=r.d_kunde;
		% Geben Sie an, ob die Anweisung korrekt/nicht korrekt ist (mit Erklärung!)
		
		
		
	\section*{Aufgabe 4.3}
		% Zeigen Sie mit Hilfe der Armstrong-Axiome, dass die abgeleiteten Regeln (union, decomposition, pseudotransitivity) ebenfalls gelten. Geben Sie für jeden Schritt an, welche Axiome Sie benutzt haben.
		
		
	\section*{Aufgabe 4.4}
		\paragraph*{CLOSURE($\{ F \}, Z\backslash\{F \longrightarrow G\}$})\\
		result $=$ \{F\}\\
		
			\{F,C,D\} \hspace*{42mm} wegen $F \rightarrow CD$\\
			
			\{F,C,D,A\} \hspace*{39mm} wegen $D \rightarrow A$\\
			
			\{F,C,D,A,G,H\} \hspace*{32mm} wegen $AC \rightarrow GH$\\
			
			\hspace*{11mm}\textbf{\vdots}\\[1.2em]
			$G \in CLOSURE(\{F\}, Z \backslash \{F \longrightarrow G\})$\\
			$\Rightarrow F \rightarrow G$ ist redundante funktionale Abhängigkeit
	
		\paragraph*{CLOSURE($\{H\}, Z \backslash \{H \rightarrow B\}$})\\
		H steht auf keiner linken Seite der funktionalen Abh"angigkeiten in der Menge Z\\
		$\rightarrow B \notin CLOSURE(\{H\}, Z \backslash \{H \rightarrow B\})$\\ $\Rightarrow H \rightarrow B$ ist keine redundante funktionale Abhängigkeit
		
	
	
\end{document}